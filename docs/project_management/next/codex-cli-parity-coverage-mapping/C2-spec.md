# C2-spec – Wrapper Coverage Generator (`wrapper_coverage.json`)

## Scope
- Implement deterministic generation of `cli_manifests/codex/wrapper_coverage.json` that describes wrapper support at the command/flag/arg level (ADR 0002 coverage levels + scope semantics).
- The wrapper coverage file must not be hand-edited JSON; it must be generated by tooling (e.g., `xtask codex-wrapper-coverage`) from wrapper code and/or a single source-of-truth declaration in the wrapper.
- Coverage levels must support: `explicit|passthrough|unsupported|intentionally_unsupported|unknown`.
- Scope semantics (normative) must follow `RULES.json.wrapper_coverage.*`:
  - `no scope` means “all expected targets”.
  - If a surface includes `platforms`, expand to expected targets using `RULES.json.union.platform_mapping`.
  - Resolution requires a single best match per unit (multi-match is a hard error; no-match treated as unknown).
  - Overlapping scopes for the same unit are disallowed (manifest invalid).
- Intentionally unsupported entries require a `note` rationale (per ADR 0002 + RULES).

## Acceptance Criteria
- `cli_manifests/codex/wrapper_coverage.json` is generated deterministically (byte-stable given unchanged code).
- The file validates against `cli_manifests/codex/SCHEMA.json` (`WrapperCoverageManifestV1`).
- Overlapping scopes are rejected by `xtask codex-validate` (C0 validator) with the required error details.

## Out of Scope
- Upstream snapshot generation/union merge.
- Coverage report generation.
- CI workflow changes.

