{
  "rules_schema_version": 1,
  "scope": "codex-cli-parity",
  "identity": {
    "command": "path",
    "flag": "prefer_long_else_short",
    "arg": "name"
  },
  "union": {
    "mode": "union",
    "platform_granularity": "target_triple",
    "require_same_tool": true,
    "require_same_semantic_version": true,
    "conflict_handling": {
      "strategy": "record_conflicts_and_preserve_availability",
      "conflict_payload_location": "commands[].conflicts"
    },
    "canonical_keys": {
      "flag_key": "long_or_short",
      "flag_key_examples": [
        "--config",
        "-c"
      ]
    },
    "availability": {
      "field": "available_on",
      "meaning": "Set of target triples where this unit appears in help discovery."
    }
  },
  "comparison": {
    "unit_types": [
      "command",
      "flag",
      "arg"
    ],
    "platform_filter_modes": [
      "any",
      "all",
      "exact_target"
    ],
    "surface_deltas": {
      "commands": "presence_by_path",
      "flags": "presence_by_flag_key",
      "args": "presence_by_arg_name"
    },
    "semantic_fields": {
      "flag": [
        "takes_value",
        "value_name",
        "repeatable"
      ],
      "arg": [
        "required",
        "variadic"
      ]
    },
    "non_semantic_metadata_fields": {
      "command": [
        "about",
        "usage"
      ]
    }
  },
  "sorting": {
    "commands": "lexicographic_path",
    "flags": "by_key_then_long_then_short",
    "args": "by_name"
  },
  "validation": {
    "require_root_path_entry": true,
    "require_unique_command_paths": true,
    "require_unique_flag_keys_per_command": true,
    "require_unique_arg_names_per_command": true
  }
}

